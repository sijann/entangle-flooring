{% if localization.available_countries.size > 1 %}
  <localization-form class="relative">
    {% form 'localization' %}
      <collapsible-button
        class="inline-block"
        target-id="country-localization"
      >
        <button
          type="button"
          class="flex items-center gap-2 px-3 py-1"
        >
          <span>
            {{ localization.country.name }} ({{ localization.country.currency.iso_code }}
            {{ localization.country.currency.symbol }})
          </span>
          <span class="en-collapsible-caret text-sm">
            {% render 'icon-caret' %}
          </span>
        </button>
      </collapsible-button>

      <collapsible-content
        data-id="country-localization"
        class="absolute top-full bg-[rgba(var(--primary-background))] shadow-md"
      >
        <div class="collapsible-inner">
          <ul id="CountryList" role="list" class="p-3">
            {% for country in localization.available_countries %}
              <li class="px-2 py-1" tabindex="-1">
                <a
                  href="#"
                  {% if country.iso_code == localization.country.iso_code %}
                    aria-current="true"
                  {% endif %}
                  data-value="{{ country.iso_code }}"
                >
                  {{ country.name }} ({{ country.currency.iso_code }}
                  {{ country.currency.symbol }})
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </collapsible-content>
      <input type="hidden" name="country_code" value="{{ localization.country.iso_code }}">
    {% endform %}
  </localization-form>
{% endif %}
